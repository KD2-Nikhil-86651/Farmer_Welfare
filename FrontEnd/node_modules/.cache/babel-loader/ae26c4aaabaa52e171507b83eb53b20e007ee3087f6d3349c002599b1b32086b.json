{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { ToastContainer, toast } from \"react-toastify\";\n// import \"react-toastify/dist/ReactToastify.css\";\n// import { Link, useNavigate } from \"react-router-dom\";\n// import Navbar from \"../components/Navbar\";\n// import { registerFarmer } from \"../service/Farmer\";\n// import { registerShopkeeper } from \"../service/Shopkeeper\";\n// import { registerBuyer } from \"../service/Buyer\";\n\n// function RegisterPage() {\n//   const [userType, setUserType] = useState(\"\");\n//   const [formData, setFormData] = useState({\n//     firstName: \"\",\n//     lastName: \"\",\n//     contactNo: \"\",\n//     licenseNo: \"\",\n//     email: \"\",\n//     dob: \"\",\n//     password: \"\",\n//   });\n\n//   const navigate = useNavigate();\n\n//   const handleChange = (e) => {\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\n//   };\n\n//   const validateForm = () => {\n//     const { firstName, lastName, contactNo, licenseNo, email, dob, password } =\n//       formData;\n\n//     if (!firstName || !lastName || !contactNo || !email || !password) {\n//       toast.error(\"Please fill all required fields.\");\n//       return false;\n//     }\n//     if (userType === \"Shopkeeper\" && !licenseNo) {\n//       toast.error(\"License No is required for Shopkeeper.\");\n//       return false;\n//     }\n//     if (userType === \"Farmer\" && !dob) {\n//       toast.error(\"Date of Birth is required for Farmer.\");\n//       return false;\n//     }\n//     if (!/^[0-9]{10}$/.test(contactNo)) {\n//       toast.error(\"Invalid Contact Number. It should be 10 digits.\");\n//       return false;\n//     }\n//     if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\n//       toast.error(\"Invalid Email Address.\");\n//       return false;\n//     }\n//     if (password.length < 6) {\n//       toast.error(\"Password must be at least 6 characters long.\");\n//       return false;\n//     }\n//     return true;\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     if (!validateForm()) return;\n\n//     let result;\n//     try {\n//       if (userType === \"Farmer\") {\n//         result = await registerFarmer({\n//           FirstName: formData.firstName,\n//           LastName: formData.lastName,\n//           ContactNo: formData.contactNo,\n//           Dob: formData.dob,\n//           Email: formData.email,\n//           Password: formData.password,\n//         });\n//       } else if (userType === \"Shopkeeper\") {\n//         const shopkeeperData = {\n//           FirstName: formData.firstName,\n//           LastName: formData.lastName,\n//           ContactNo: formData.contactNo,\n//           LicenseNo: formData.licenseNo,\n//           Email: formData.email,\n//           Password: formData.password,\n//         };\n\n//         console.log(\"Registering Shopkeeper with data:\", shopkeeperData);\n//         result = await registerShopkeeper(shopkeeperData);\n//       } else if (userType === \"Buyer\") {\n//         const buyerData = {\n//           FirstName: formData.firstName,\n//           LastName: formData.lastName,\n//           ContactNo: formData.contactNo,\n//           Email: formData.email,\n//           Password: formData.password,\n//           CategoryId: 1, // ✅ Ensure this is included if required\n//         };\n\n//         console.log(\"Registering Buyer with data:\", buyerData);\n//         result = await registerBuyer(buyerData);\n//       } else {\n//         toast.error(\"Please select a valid user type.\");\n//         return;\n//       }\n\n//       // ✅ Moved this block outside the if-else chain\n//       if (result.status === \"success\") {\n//         toast.success(\"Successfully registered the user\");\n//         navigate(\"/Login\");\n//       } else {\n//         toast.error(result.error || \"Registration failed.\");\n//       }\n//     } catch (error) {\n//       console.error(\"Registration Error:\", error);\n//       toast.error(\"An error occurred while registering. Please try again.\");\n//     }\n//   };\n\n//   return (\n//     <div>\n//       <Navbar />\n//       <br />\n//       <br />\n\n//       <div\n//         className=\"d-flex justify-content-center align-items-center\"\n//         style={{ height: \"90vh\" }}\n//       >\n//         <div\n//           className=\"container mt-4 p-3 border rounded shadow\"\n//           style={{ maxWidth: \"500px\" }}\n//         >\n//           <h2 className=\"text-center\">Register</h2>\n//           <form onSubmit={handleSubmit}>\n//             <div className=\"mb-2\">\n//               <label className=\"form-label\">User Type</label>\n//               <select\n//                 className=\"form-control\"\n//                 value={userType}\n//                 onChange={(e) => setUserType(e.target.value)}\n//               >\n//                 <option value=\"\" disabled>\n//                   Select User Type ▼\n//                 </option>\n//                 <option value=\"Shopkeeper\">Shopkeeper</option>\n//                 <option value=\"Buyer\">Buyer</option>\n//                 <option value=\"Farmer\">Farmer</option>\n//               </select>\n//             </div>\n\n//             <div className=\"mb-2\">\n//               <label className=\"form-label\">First Name</label>\n//               <input\n//                 type=\"text\"\n//                 className=\"form-control\"\n//                 name=\"firstName\"\n//                 value={formData.firstName}\n//                 onChange={handleChange}\n//                 required\n//               />\n//             </div>\n\n//             <div className=\"mb-2\">\n//               <label className=\"form-label\">Last Name</label>\n//               <input\n//                 type=\"text\"\n//                 className=\"form-control\"\n//                 name=\"lastName\"\n//                 value={formData.lastName}\n//                 onChange={handleChange}\n//                 required\n//               />\n//             </div>\n\n//             <div className=\"mb-2\">\n//               <label className=\"form-label\">Contact No</label>\n//               <input\n//                 type=\"text\"\n//                 className=\"form-control\"\n//                 name=\"contactNo\"\n//                 value={formData.contactNo}\n//                 onChange={handleChange}\n//                 required\n//               />\n//             </div>\n\n//             {userType === \"Shopkeeper\" && (\n//               <div className=\"mb-2\">\n//                 <label className=\"form-label\">License No</label>\n//                 <input\n//                   type=\"text\"\n//                   className=\"form-control\"\n//                   name=\"licenseNo\"\n//                   value={formData.licenseNo}\n//                   onChange={handleChange}\n//                   required\n//                 />\n//               </div>\n//             )}\n\n//             {userType === \"Farmer\" && (\n//               <div className=\"mb-2\">\n//                 <label className=\"form-label\">Date of Birth</label>\n//                 <input\n//                   type=\"date\"\n//                   className=\"form-control\"\n//                   name=\"dob\"\n//                   value={formData.dob}\n//                   onChange={handleChange}\n//                   required\n//                 />\n//               </div>\n//             )}\n\n//             <div className=\"mb-2\">\n//               <label className=\"form-label\">Email</label>\n//               <input\n//                 type=\"email\"\n//                 className=\"form-control\"\n//                 name=\"email\"\n//                 value={formData.email}\n//                 onChange={handleChange}\n//                 required\n//               />\n//             </div>\n\n//             <div className=\"mb-2\">\n//               <label className=\"form-label\">Password</label>\n//               <input\n//                 type=\"password\"\n//                 className=\"form-control\"\n//                 name=\"password\"\n//                 value={formData.password}\n//                 onChange={handleChange}\n//                 required\n//               />\n//             </div>\n\n//             <button type=\"submit\" className=\"btn btn-primary w-100\">\n//               Register\n//             </button>\n//             <p className=\"text-center mt-2\">\n//               Already have an account? <Link to=\"/Login\">Login here</Link>\n//             </p>\n//           </form>\n//           <ToastContainer\n//             position=\"top-right\"\n//             autoClose={3000}\n//             hideProgressBar\n//             closeOnClick\n//             pauseOnHover\n//             draggable\n//             theme=\"colored\"\n//           />\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default RegisterPage;","map":{"version":3,"names":[],"sources":["D:/Nikhil/Downloads/CDAC Project/FarmerFrontend/src/screens/RegisterPage.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import { ToastContainer, toast } from \"react-toastify\";\r\n// import \"react-toastify/dist/ReactToastify.css\";\r\n// import { Link, useNavigate } from \"react-router-dom\";\r\n// import Navbar from \"../components/Navbar\";\r\n// import { registerFarmer } from \"../service/Farmer\";\r\n// import { registerShopkeeper } from \"../service/Shopkeeper\";\r\n// import { registerBuyer } from \"../service/Buyer\";\r\n\r\n// function RegisterPage() {\r\n//   const [userType, setUserType] = useState(\"\");\r\n//   const [formData, setFormData] = useState({\r\n//     firstName: \"\",\r\n//     lastName: \"\",\r\n//     contactNo: \"\",\r\n//     licenseNo: \"\",\r\n//     email: \"\",\r\n//     dob: \"\",\r\n//     password: \"\",\r\n//   });\r\n\r\n//   const navigate = useNavigate();\r\n\r\n//   const handleChange = (e) => {\r\n//     setFormData({ ...formData, [e.target.name]: e.target.value });\r\n//   };\r\n\r\n//   const validateForm = () => {\r\n//     const { firstName, lastName, contactNo, licenseNo, email, dob, password } =\r\n//       formData;\r\n\r\n//     if (!firstName || !lastName || !contactNo || !email || !password) {\r\n//       toast.error(\"Please fill all required fields.\");\r\n//       return false;\r\n//     }\r\n//     if (userType === \"Shopkeeper\" && !licenseNo) {\r\n//       toast.error(\"License No is required for Shopkeeper.\");\r\n//       return false;\r\n//     }\r\n//     if (userType === \"Farmer\" && !dob) {\r\n//       toast.error(\"Date of Birth is required for Farmer.\");\r\n//       return false;\r\n//     }\r\n//     if (!/^[0-9]{10}$/.test(contactNo)) {\r\n//       toast.error(\"Invalid Contact Number. It should be 10 digits.\");\r\n//       return false;\r\n//     }\r\n//     if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n//       toast.error(\"Invalid Email Address.\");\r\n//       return false;\r\n//     }\r\n//     if (password.length < 6) {\r\n//       toast.error(\"Password must be at least 6 characters long.\");\r\n//       return false;\r\n//     }\r\n//     return true;\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     if (!validateForm()) return;\r\n\r\n//     let result;\r\n//     try {\r\n//       if (userType === \"Farmer\") {\r\n//         result = await registerFarmer({\r\n//           FirstName: formData.firstName,\r\n//           LastName: formData.lastName,\r\n//           ContactNo: formData.contactNo,\r\n//           Dob: formData.dob,\r\n//           Email: formData.email,\r\n//           Password: formData.password,\r\n//         });\r\n//       } else if (userType === \"Shopkeeper\") {\r\n//         const shopkeeperData = {\r\n//           FirstName: formData.firstName,\r\n//           LastName: formData.lastName,\r\n//           ContactNo: formData.contactNo,\r\n//           LicenseNo: formData.licenseNo,\r\n//           Email: formData.email,\r\n//           Password: formData.password,\r\n//         };\r\n\r\n//         console.log(\"Registering Shopkeeper with data:\", shopkeeperData);\r\n//         result = await registerShopkeeper(shopkeeperData);\r\n//       } else if (userType === \"Buyer\") {\r\n//         const buyerData = {\r\n//           FirstName: formData.firstName,\r\n//           LastName: formData.lastName,\r\n//           ContactNo: formData.contactNo,\r\n//           Email: formData.email,\r\n//           Password: formData.password,\r\n//           CategoryId: 1, // ✅ Ensure this is included if required\r\n//         };\r\n\r\n//         console.log(\"Registering Buyer with data:\", buyerData);\r\n//         result = await registerBuyer(buyerData);\r\n//       } else {\r\n//         toast.error(\"Please select a valid user type.\");\r\n//         return;\r\n//       }\r\n\r\n//       // ✅ Moved this block outside the if-else chain\r\n//       if (result.status === \"success\") {\r\n//         toast.success(\"Successfully registered the user\");\r\n//         navigate(\"/Login\");\r\n//       } else {\r\n//         toast.error(result.error || \"Registration failed.\");\r\n//       }\r\n//     } catch (error) {\r\n//       console.error(\"Registration Error:\", error);\r\n//       toast.error(\"An error occurred while registering. Please try again.\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <Navbar />\r\n//       <br />\r\n//       <br />\r\n\r\n//       <div\r\n//         className=\"d-flex justify-content-center align-items-center\"\r\n//         style={{ height: \"90vh\" }}\r\n//       >\r\n//         <div\r\n//           className=\"container mt-4 p-3 border rounded shadow\"\r\n//           style={{ maxWidth: \"500px\" }}\r\n//         >\r\n//           <h2 className=\"text-center\">Register</h2>\r\n//           <form onSubmit={handleSubmit}>\r\n//             <div className=\"mb-2\">\r\n//               <label className=\"form-label\">User Type</label>\r\n//               <select\r\n//                 className=\"form-control\"\r\n//                 value={userType}\r\n//                 onChange={(e) => setUserType(e.target.value)}\r\n//               >\r\n//                 <option value=\"\" disabled>\r\n//                   Select User Type ▼\r\n//                 </option>\r\n//                 <option value=\"Shopkeeper\">Shopkeeper</option>\r\n//                 <option value=\"Buyer\">Buyer</option>\r\n//                 <option value=\"Farmer\">Farmer</option>\r\n//               </select>\r\n//             </div>\r\n\r\n//             <div className=\"mb-2\">\r\n//               <label className=\"form-label\">First Name</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 className=\"form-control\"\r\n//                 name=\"firstName\"\r\n//                 value={formData.firstName}\r\n//                 onChange={handleChange}\r\n//                 required\r\n//               />\r\n//             </div>\r\n\r\n//             <div className=\"mb-2\">\r\n//               <label className=\"form-label\">Last Name</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 className=\"form-control\"\r\n//                 name=\"lastName\"\r\n//                 value={formData.lastName}\r\n//                 onChange={handleChange}\r\n//                 required\r\n//               />\r\n//             </div>\r\n\r\n//             <div className=\"mb-2\">\r\n//               <label className=\"form-label\">Contact No</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 className=\"form-control\"\r\n//                 name=\"contactNo\"\r\n//                 value={formData.contactNo}\r\n//                 onChange={handleChange}\r\n//                 required\r\n//               />\r\n//             </div>\r\n\r\n//             {userType === \"Shopkeeper\" && (\r\n//               <div className=\"mb-2\">\r\n//                 <label className=\"form-label\">License No</label>\r\n//                 <input\r\n//                   type=\"text\"\r\n//                   className=\"form-control\"\r\n//                   name=\"licenseNo\"\r\n//                   value={formData.licenseNo}\r\n//                   onChange={handleChange}\r\n//                   required\r\n//                 />\r\n//               </div>\r\n//             )}\r\n\r\n//             {userType === \"Farmer\" && (\r\n//               <div className=\"mb-2\">\r\n//                 <label className=\"form-label\">Date of Birth</label>\r\n//                 <input\r\n//                   type=\"date\"\r\n//                   className=\"form-control\"\r\n//                   name=\"dob\"\r\n//                   value={formData.dob}\r\n//                   onChange={handleChange}\r\n//                   required\r\n//                 />\r\n//               </div>\r\n//             )}\r\n\r\n//             <div className=\"mb-2\">\r\n//               <label className=\"form-label\">Email</label>\r\n//               <input\r\n//                 type=\"email\"\r\n//                 className=\"form-control\"\r\n//                 name=\"email\"\r\n//                 value={formData.email}\r\n//                 onChange={handleChange}\r\n//                 required\r\n//               />\r\n//             </div>\r\n\r\n//             <div className=\"mb-2\">\r\n//               <label className=\"form-label\">Password</label>\r\n//               <input\r\n//                 type=\"password\"\r\n//                 className=\"form-control\"\r\n//                 name=\"password\"\r\n//                 value={formData.password}\r\n//                 onChange={handleChange}\r\n//                 required\r\n//               />\r\n//             </div>\r\n\r\n//             <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n//               Register\r\n//             </button>\r\n//             <p className=\"text-center mt-2\">\r\n//               Already have an account? <Link to=\"/Login\">Login here</Link>\r\n//             </p>\r\n//           </form>\r\n//           <ToastContainer\r\n//             position=\"top-right\"\r\n//             autoClose={3000}\r\n//             hideProgressBar\r\n//             closeOnClick\r\n//             pauseOnHover\r\n//             draggable\r\n//             theme=\"colored\"\r\n//           />\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default RegisterPage;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}